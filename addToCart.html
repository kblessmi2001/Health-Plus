<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    #medicine-container{
        background-color: aqua;
    }
</style>



<body>
   
 <h1>Add To Cart</h1>
 <div id="medicine-container">

 </div>
</body>
</html>
<script>
  async function fetchData(){
   
   try{
     let res=await fetch("https://kblessmi2001.github.io/medicine_data/data.json")
    
     res= await res.json()
         displayData(res)
     
     //  console.log(res.medicine)
   }
   catch(err){
     console.log("error",err)
   }
 }
   fetchData()

 
     
  let MedicineCart=JSON.parse(localStorage.getItem("medicine")) 
  let container=document.getElementById("medicine-container")
   function displayData()
   {
     container.innerHTML=""
     
     MedicineCart.medicine.forEach((medi) => {
      let medicineContainer=document.createElement("div")
      let category=document.createElement("h4")
      let rating=document.createElement("h5")
      let discount=document.createElement("h5")
      let id=document.createElement("p")
      let image=document.createElement("img")
      let name=document.createElement("h3")
      let price=document.createElement("h4")
      let deleted=document.createElement("button")

      category.innerText=medi.category;
      rating.innerText=`${medi.rating}`;
      id.innerText=medi.id;
      image.src=medi.image;
      name.innerText=medi.name;
      price.innerText=`â‚¹${medi.price}`;
     deleted.innerText="Delete";
      discount.innerText=`${medi.discount}%`
    deleted.addEventListener("click",()=>
        {
            MedicineCart=MedicineCart.filter((ele)=>
            {
                return ele.id != medi.id
            })
            localStorage.setItem("medicine",JSON.stringify(MedicineCart))
            displayData()
        }) 
     
      medicineContainer.append(image,name,rating,discount,price,category,deleted)
      container.append(medicineContainer)
      
    });
    
  }

    displayData()
</script>

